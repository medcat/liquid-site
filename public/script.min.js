$(function(){"use strict"
var keyBind,refreshBox
$("body").scrollspy({target:".main-nav"}),$("pre:not(.no-highlight)").each(function(e,o){var t,r=$(o)
r.addClass("display"),t=$("<code />"),t.addClass("compiled highlight"),$.ajax({url:"https://liquidscript.io/run",type:"POST",dataType:"json",data:{code:r.text(),type:"generated"},success:function(e){!e.error&&e.result&&(t.html($(e.result).children("div pre").html()),r.append(t))}})}),refreshBox=function(){$("#try code.compiled").removeClass("error"),$.ajax({url:"https://liquidscript.io/run",type:"POST",dataType:"json",data:{code:$("#try textarea").val(),type:"generated"},success:function(e){!e.error&&e.result?$("#try code.compiled").html($(e.result).children("div pre").html()):($("#try code.compiled").text(e.error),$("#try code.compiled").addClass("error"))}})},$("#try").append("<code class='compiled highlight'></code>"),$("#try textarea").on("keydown",function(){keyBind&&clearTimeout(keyBind),keyBind=setTimeout(refreshBox,500)}),fakeConsole=window.fakeConsole={},fakeConsole._buffer="",fakeConsole.concat=function(){for(var e=0;e<arguments.length;e++)arguments[e]&&""+arguments[e]&&(fakeConsole._buffer+=""+arguments[e]),fakeConsole._buffer+="\n"},fakeConsole.warn=fakeConsole.error=fakeConsole.log=fakeConsole.concat,$("#run").click(function(){var code=$("#try code.compiled").text(),toExec="(function(console){"+code+"})(window.fakeConsole)"
try{var output=eval(toExec),result=""
fakeConsole._buffer&&(result+="Console log:\n\n"+fakeConsole._buffer),output&&(result+=(result?"\n\n":"")+"Output:\n\n"+output),$("#output").text(result||"Code did not return any output")}catch(e){$("#output").text(e)}fakeConsole._buffer=""}),refreshBox()})