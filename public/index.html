<!DOCTYPE html>
<html>
  <head>
    <title>Liquidscript</title>

    <link href="style.min.css" media="screen" rel="stylesheet" type="text/css">
    <link href="syntax.min.css" media="screen" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lato|Raleway' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <header>
      <nav class="main-nav">
        <h1>
          <span class="l">liquid</span><span class="s">script</span>
        </h1>

        <ul class="nav">
          <li><a href="#what-is">What is it?</a></li>
          <li><a href="#syntax">Syntax</a></li>
          <li><a href="#installation">Installation</a></li>
          <li><a href="#try-it">Try It</a></li>
          <li><a href="/examples">Examples</a></li>
          <li><a href="https://github.com/medcat/Liquidscript">Fork It</a></li>
        </ul>
      </nav>
    </header>

    <div class="jumboish pad-top">
      <h1 class="container">Liquidscript</h1>
    </div>

    <div class="container">
      <div id="what-is">
        <h2>What is Liquidscript?</h2>
        <p>
          Liquidscript is a new language for the web.  It's meant to replace Javascript and Coffeescript, and take their roles
          completely over - so you can code completely in Liquidscript without writing a single line of each.  Liquidscript's main
          goal &mdash; it's objective &mdash; is to reduce the syntaxic noise in the languages commonly used.  It needs to be clear
          and concise, so that it can be easily used to code small projects to large projects.
        </p>
        <p>
          Liquidscript is written completely in the Ruby language, which makes integration with Rails applications (and any other
          applications that uses the Ruby language) easy.
        </p>
      </div>

      <div id="syntax">
        <h2>Liquidscript's Syntax</h2>
        <p>
          Liquidscript has a syntax not dissimilar to either Javascript or Coffeescript - users of either language should be able to
          use Liquidscript with little to no difficulty.</p>

          <pre class="clearfix"><code class="highlight"><span class="k">class</span> <span class="nx">Greeter</span> <span class="p">{</span>
  <span class="nv">initialize: </span><span class="nf">(name)-&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nv">name = </span><span class="nx">name</span>

  <span class="nv">greet: </span><span class="nf">-&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s">&quot;Hello </span><span class="si">#{</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="s">!&quot;</span><span class="p">)</span>

  <span class="k">this</span><span class="p">.</span><span class="nv">meet: </span><span class="nf">(first, second)-&gt;</span> <span class="p">{</span>
    <span class="k">new</span> <span class="nx">Greeter</span><span class="p">(</span><span class="nx">first</span><span class="p">).</span><span class="nx">greet</span><span class="p">()</span>
    <span class="k">new</span> <span class="nx">Greeter</span><span class="p">(</span><span class="nx">second</span><span class="p">).</span><span class="nx">greet</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">Greeter</span><span class="p">.</span><span class="nx">meet</span><span class="p">(</span><span class="s">&quot;Alice&quot;</span><span class="p">,</span> <span class="s">&quot;Bob&quot;</span><span class="p">)</span>
</code></pre>

        <p>
          Breaking it down, there are a few elements to the language: <b>comments</b>, <b>classes</b>, <b>modules</b>, <b>functions</b>, and <b>literals</b>.
        </p>

        <h3>Literals</h3>

        <h4>Variables</h4>

        <p>
          As in vanilla Javascript, variables can be any combination of letters and numbers, with a few other characters included.
           The first character must be a non-numeric character, while the rest can have numbers.  Unlike Javascript, however,
           Liquidscript can handle dashes in the middle of variables &mdash; like <code>hello-world</code>.  These dashes compile to
           a Javascript-like variable; for example, the variable before would compile to <code>helloWorld</code>.  This makes
           interfacing with current Javascript libraries easy.
        </p>

          <pre class="clearfix"><code class="highlight"><span class="c1">#! allow document</span>

<span class="nx">hex-to-rgb = </span><span class="nf">(hex)-&gt;</span> <span class="p">{</span>
  <span class="nv">out = </span><span class="p">[</span>
    <span class="nx">parse-int</span><span class="p">(</span><span class="nx">hex</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">16</span><span class="p">),</span>
    <span class="nx">parse-int</span><span class="p">(</span><span class="nx">hex</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mi">16</span><span class="p">),</span>
    <span class="nx">parse-int</span><span class="p">(</span><span class="nx">hex</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="mi">16</span><span class="p">)</span>
  <span class="p">]</span>

  <span class="k">return</span> <span class="s">&quot;rgb(</span><span class="si">#{</span><span class="nx">out</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">, </span><span class="si">#{</span><span class="nx">out</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s">, </span><span class="si">#{</span><span class="nx">out</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s">)&quot;</span>
<span class="p">}</span>

<span class="nv">code = </span><span class="nb">document</span><span class="p">.</span><span class="nx">get-element-by-id</span><span class="p">(</span><span class="s">&quot;thing&quot;</span><span class="p">)</span>
<span class="nx">code</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">border-color = </span><span class="nx">hex-to-rgb</span><span class="p">(</span><span class="s">&quot;#00ffff&quot;</span><span class="p">)</span></code></pre>

        <h4>Strings</h4>

        <p>
          Liquidscript has a set of interesting string literals.  Liquidscript supports double quotes, single quotes, heredocs,
          interpolation, and string escaping.  However, <b>single quotes are limited to the same characters that identifiers are
          limited to, plus a few others</b>. The ending delimiter for single quote strings is optional, as well.  The point of this
          is to establish a difference between strings that are used as data (double strings), and strings that are used as
          identifiers (single strings) &mdash; i.e., the keys for objects, such as <code>object['key]</code>.  Single strings can
          also handle paths - <code>require('some/random/path)</code>.
        </p>

        <pre class="clearfix"><code class="highlight"><span class="nv">string = </span><span class="s">&quot;hello</span>

<span class="s">world&quot;</span> <span class="c1"># this&#39;ll translate to &quot;hello\n\nworld&quot;</span>

<span class="nv">single = </span><span class="s">&#39;test</span> <span class="c1"># there doesn&#39;t need to be an endquote here.</span>

<span class="nx">another-string = </span><span class="o">&lt;&lt;-</span><span class="nx">TEST</span>
  <span class="si">#{</span><span class="nx">string</span><span class="si">}</span><span class="s">, foo bar </span><span class="si">#{</span><span class="nx">single</span><span class="si">}</span><span class="s"> thing</span>
<span class="nx">TEST</span>
</code></pre>

        <h3>Functions</h3>

        <p>
          Liquidscript has a very basic implementation of functions.  The functions in Liquidscript are meant to be short, sweet, and
          to the point &mdash; basically, a very concise version of Javascript functions.  Functions cannot be named (i.e., they're
          always anonymous).  Eventually, default values and argument collection will be supported.  The Coffeescript double arrow
          syntax, <code>()=></code>, is not supported.
        </p>

        <pre class="clearfix"><code class="highlight"><span class="nv">curry = </span><span class="nf">(fn)-&gt;</span> <span class="p">{</span>
  <span class="nv">slice = </span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span>
  <span class="nv">args = </span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

  <span class="k">return</span> <span class="nf">-&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">slice</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)))</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">app-log = </span><span class="nx">curry</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">,</span> <span class="s">&quot;[some-app] &quot;</span><span class="p">)</span>
<span class="nx">app-log</span><span class="p">(</span><span class="s">&quot;hello world&quot;</span><span class="p">)</span>
</code></pre>

        <h4>Arrays</h4>

        <p>
          Arrays in Liquidscript works just like a normal array in Javascript &mdash; you can have any kind of values for the elements, and they are accessed through the `[]` accessor.  There are a few key differences though &mdash; Liquidscript
          doesn't require commas between elements.  Of course, this could help the parser resolve syntax issues, if it comes
          down to that.  Arrays can be built from ranges between two items, as well.
        </p>

        <pre class="clearfix"><code class="highlight"><span class="nx">some-array = </span><span class="p">[</span>
  <span class="c1"># This expands to an array with every number</span>
  <span class="c1"># between 0 and 9, inclusive.</span>
  <span class="mi">0</span><span class="p">..</span><span class="mi">9</span><span class="p">,</span>

  <span class="p">[</span><span class="s">&#39;test</span><span class="p">]</span>

  <span class="c1">#! allow x y</span>
  <span class="c1"># This expands to an array that contains the</span>
  <span class="c1"># values between x and y, inclusive.</span>
  <span class="nx">x</span><span class="p">..</span><span class="nx">y</span>
<span class="p">]</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">some-array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">..</span><span class="mi">9</span><span class="p">)</span>
</code></pre>

        <h4>Objects</h4>

        <p>
          Like arrays, objects don't require commas between each key-value pair.  Keys may be an identifier or a string.  A string
          may be used in cases where an identifier wouldn't contain the characters that would be needed, or the <code>-</code>
          substitution is unwanted.
        </p>

        <pre class="clearfix"><code class="highlight"><span class="nx">some-object = </span><span class="p">{</span>
  <span class="nv">hello: </span><span class="s">&#39;world</span>
  <span class="nv">foo: </span><span class="p">[</span><span class="s">&#39;bar</span><span class="p">]</span>
<span class="p">}</span>
</code></pre>

        <h3>Modules</h3>

        <p>
          A module is basically a structure that compacts variables and functions into a simple object.  Classes can be defined
          within the scope of modules - otherwise, anything but the key-value pair is considered an error.
        </p>

        <pre class="clearfix"><code class="highlight"><span class="k">module</span> <span class="nc">Math</span> <span class="p">{</span>
  <span class="nv">random: </span><span class="nf">-&gt;</span> <span class="k">return</span> <span class="mi">42</span> <span class="c1"># I randomly picked this off a</span>
                <span class="c1"># dart board, so that counts, right?</span>
  <span class="nv">PI: </span><span class="mi">3</span>         <span class="c1"># Technically correct.</span>
  <span class="nv">e: </span><span class="mi">2</span>          <span class="c1"># Not this one.</span>
<span class="p">}</span></code></pre>

        <h3>Classes</h3>

        <p>
          Classes are constructs that Liquidscript makes.  The classes are defined based on the Functional prototypal inheritance
          built into Javascript. Basically, properties and methods of classes are put on the prototype of a function &mdash; and
          classes are instantized with the <code>new</code> keyword.  Properties that are meant to be a part of the class are
          prefixed with <code>this.</code>, signifying that it's meant to be on the class, not the instance of the class.
        </p>
        <p>
          Within functions that are defined as properties of classes, instance properties may be accessed without a
          <code>this.</code> keyword prefixed.
        </p>

        <pre class="clearfix"><code class="highlight"><span class="k">class</span> <span class="nc">Shape</span> <span class="p">{</span>
  <span class="nv">x: </span><span class="mi">0</span>
  <span class="nv">y: </span><span class="mi">0</span>

  <span class="nv">initialize: </span><span class="nf">(x, y)-&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nv">x = </span><span class="nx">x</span>
    <span class="k">this</span><span class="p">.</span><span class="nv">y = </span><span class="nx">y</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Circle</span><span class="o"> : </span><span class="no">Shape</span> <span class="p">{</span>
  <span class="nv">r: </span><span class="mi">0</span>

  <span class="nv">initialize: </span><span class="nf">(x, y, r)-&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nv">x = </span><span class="nx">x</span>
    <span class="k">this</span><span class="p">.</span><span class="nv">y = </span><span class="nx">y</span>
    <span class="k">this</span><span class="p">.</span><span class="nv">r = </span><span class="nx">r</span>
  <span class="p">}</span>

  <span class="nv">area: </span><span class="nf">-&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="c1"># Unit circle.</span>
  <span class="k">this</span><span class="p">.</span><span class="nv">unit: </span><span class="nf">-&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Circle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Circle</span><span class="p">.</span><span class="nx">unit</span><span class="p">().</span><span class="nx">area</span><span class="p">())</span></code></pre>

        <h3>Comments</h3>

        <p>
          Liquidscript has comments that are started by <code>#</code>, and go through the entire
          line.  There are no multiline strings.  Comments that start with <code>#!</code> are
          directives.  The only directive currently supported is <code>#! allow</code>, which allows
          variables to be referenced without being defined beforehand, since Liquidscript checks
          each variable as they're used.
        </p>

        <pre class="clearfix"><code class="highlight"><span class="c1"># If this wasn&#39;t here, the compiler</span>
<span class="c1"># would complain &quot;no variable named</span>
<span class="c1"># setTimeout&quot;.  This is primarily to</span>
<span class="c1"># make sure the developer doesn&#39;t</span>
<span class="c1"># accidentally things.</span>
<span class="c1">#! allow set-timeout</span>

<span class="nf">(fn)-&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">set-timeout</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">}</span></code></pre>
      </div>

      <div id="installation">
        <h2>Installation</h2>

        <p>
          Liquidscript is currently written in ruby, so the only way to install it is through gem:
        </p>

        <pre class="clearfix no-compile"><code class="highlight"><span class="nv">$ </span>gem install liquidscript</code></pre>

        <p>
          Liquidscript comes with a binary, <code>lscript</code>, which can compile files for you.
          If you're running a rails application, Liquidscript hooks into Sprockets, allowing files
          to be served as assets just like Coffeescript:
        </p>

        <pre class="clearfix no-compile"><code class="highlight"><span class="nv">$ </span>gem 'liquidscript', require: 'liquidscript/sprockets'</code></pre>

        <p>
          Liquidscript uses the extension <code>.liq</code>.
        </p>
      </div>

      <div class="do-code" id="try-it">
        <h2>Try It</h2>
        <div class="clearfix pre" id="try">
          <div class="input">
            <textarea id="input">class Greeter {
  initialize: (name)-> this.name = name

  greet: -> console.log("Hello #{this.name}!")

  this.meet: (first, second)-> {
    new Greeter(first).greet()
    new Greeter(second).greet()
  }
}

Greeter.meet("Alice", "Bob")
</textarea>
          </div>
          <button id="run">Execute</button>
        </div>
        <div class="output" id="output"></div>
      </div>
    </div>

    <footer>Created by <a href="https://github.com/medcat">medcat</a>, with help of <a href="https://github.com/Mechazawa">Mechazawa</a>.  Check out the <a href="https://github.com/medcat/Liquidscript">open source project</a>.</footer>
  </body>

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
  <script src="scrollspy.min.js"></script>
  <script src="autosize.min.js"></script>
  <script src="script.min.js"></script>
</html>
